<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TourMapper Pro</title>
    <script>
        async function uploadUrls() {
            let urls = document.getElementById("urls").value.split("\n").filter(url => url.trim() !== "");
            let response = await fetch("/upload_urls", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ urls })
            });
            let result = await response.json();
            alert(result.message);
        }

        async function startScraping() {
            let response = await fetch("/start_scraping", { method: "POST" });
            let result = await response.json();
            alert(result.message);
        }

        async function clearUrls() {
            let response = await fetch("/clear_urls", { method: "POST" });
            let result = await response.json();
            alert(result.message);
        }
    </script>
</head>
<body>
    <h1>TourMapper Pro</h1>

    <h3>Upload URLs</h3>
    <textarea id="urls" rows="5" cols="40"></textarea><br>
    <button onclick="uploadUrls()">Upload URLs</button>

    <h3>Scraping</h3>
    <button onclick="startScraping()">Start Scraping</button>
    <button onclick="clearUrls()">Clear URLs</button>

    <h3>Download Data</h3>
    <a href="/static/events.geojson" download>Download GeoJSON</a> |
    <a href="/static/events.kml" download>Download KML</a>

    <h3>View Uploaded URLs</h3>
    <a href="/view_urls">View URLs</a>
</body>
</html>
